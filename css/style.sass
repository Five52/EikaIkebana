@import 'reset'
@import 'palette'
@import 'mixin'
@import 'fonts/fonts'
// Convention :
// - Display et modification de l'élément dans le flux
// - largeur / hauteur
// - marges externes / internes
// - traitement du texte
// - traitement des images
// - traitement des couleurs (fond/ecriture)
// - bordures
// - ombres (box/text)
// - transformations
// - transition

body
	display: flex
	flex-flow: column
	min-height: 100vh
	font-family: sans-serif
	margin: 0 auto

.width-fix
	width: 100%

header
	order: 1
	padding: 10px
	text-align: center
	background: darken($fond, 10%)

	h1
		font-family: 'neuropol', sans-serif
		text-shadow: 0 2px 2px rgba($titleBlur, 0.5), 0 -2px 2px rgba($titleBlur, 0.5)
		&::before
			display: block
			font-size: 0
			line-height: 0
			content: url('img/logo.png')

nav
	position: relative
	order: 2
	background: $fond

	h3
		padding: 7px
	ul
		display: flex
		flex-flow: column
		list-style: none
		margin-left: 0

		li
			& + li
				margin-top: 1px
			a
				display: block
				text-align: center
				padding: 5px

				&:link, &:visited
					text-decoration: none
					color: black
					background-color: lighten($fond, 5%)

				&:hover
					background-color: $fond

	> :first-child
		position: relative
		z-index: 20
	
	.button
		position: absolute
		z-index: 10
		top: 0
		right: 0

		width: 48px
		height: 34px

		transition: 0.4s

	#menu_general_button
		@extend .button
		background: url("img/icon_menu_hamburger.png") center no-repeat
		transform: rotate(0deg)

		&.developpe
			background-image: url("img/icon_menu_minus.png")
			transform: rotate(-180deg)

main
	order: 3
	flex: 1

	background: lighten($fond, 10%)
	padding: 10px

	#frise_presentation
		text-align: center
		margin: 20px auto

		img
			box-shadow: 0 0 3px black

	.photo
		text-align: center
	
	#signature
		font-family: amienne,dali,calibri,"book antiqua","trebuchet ms",sans-serif
		font-size: 25px
		text-align: right
		margin: 30px 0 10px


	h2
		border-bottom: 5px solid $barreTitre
		margin-bottom: 20px
	
	p, ul
		margin-bottom: 10px

	section

		& + section
			margin-top: 20px

		&#expositions
			ul
				list-style: none
				margin-left: 0

				li + li
					margin-top: 10px

		h3
			margin-bottom: 15px
			padding-left: 5px
			background-color: lighten($fond2, 15%)
			border-left : 5px solid $fond2
			
			& ~ *
				padding-left: 15px

		article
			h4
				text-decoration: underline
				margin-bottom: 10px
				& ~ *
					padding-left: 15px

	#galeries
		display: flex
		flex-flow: column
		margin-bottom: 20px

		div
			text-align: center
			+ div
				margin-top: 5px

			a
				display: block
				padding: 5px
				border: 1px solid darken($fond, 30%)
				&:link, &:visited
					text-decoration: none
					background-color: $fond
				&:hover
					background-color: darken($fond, 20%)

		blockquote footer
			background-color: transparent
			text-align: right
			font-style: italic
			font-size: initial

	#mini-galerie
		width: 100%
		height: 187px
		overflow: auto
		margin-bottom: 20px
		text-align: center
	
	#grande_photo
		text-align: center
		height: 504px

aside
	order: 4
	background-color: $fond
	padding: 10px

	div
		text-align: center

	* + p, * + blockquote
		margin-top: 15px

footer
	order: 5
	display: flex
	flex-flow: row wrap
	justify-content: space-around
	font-size: 13px
	background: darken($fond, 10%)

	ul
		list-style: none
		margin-left: 0
		padding: 5px 0

	section
		flex: 1
		padding: 5px 15px

		&:last-child
			flex: 1 1 100%
			p
				padding: 5px 0
				text-align: justify

header, nav, main, aside
	border-bottom: 2px solid rgba(0,0,0,0.1)

footer, nav, main, aside
	border-top: 2px solid rgba(255,255,255,0.1)

p, blockquote
	text-align: justify

a
	transition: 0.3s
	&:link, &:visited
		color: $linkColor
	&:hover
		text-decoration: none

img
	max-width: 100%
	height: auto
	border-radius: 10px

abbr
	cursor: help

hr
	margin: 30px 0

@media (min-width: 640px)
	aside div
		display: flex
		align-items: center
		margin-top: 0

		div
			margin: 15px 15px 0 0

@media (min-width: 768px)

	nav
		border-top: none
		h3
			display: none
		ul
			display: flex
			flex-direction: row

			li
				flex: 1

				a
					font-weight: bold
					color: white
					border-top: 2px solid rgba(255,255,255,0.1)
					border-left: 2px solid rgba(255,255,255,0.1)
					border-right: 2px solid rgba(0,0,0,0.1)

					&:link, &:visited
						background-color: $fond
					&:hover
						background-color: darken($fond, 10%)
						border-left: 2px solid darken($fond, 10%)

				+ li
					margin-top: 0

	.photo
		float: left
		margin-right: 15px

	header
		height: 162px
		overflow: hidden
		background: url('img/banniere.png') no-repeat center darken($fond, 10%)
		h1::before
			height: 162px
			content: " "
	
	main
		#galeries
			flex-flow: row
			justify-content: space-around
			align-items: center
		
			> div
				margin-left: 10px
				&:first-child
					order: 10
				&:nth-child(2)
					margin-left: 0
				+ div
					margin-top: 0

			blockquote footer
				padding: 0

	footer
		flex-flow: row
		justify-content: center
		border-top: none
		section
			flex: 0 1 auto
			border-top: 2px solid rgba(255,255,255,0.1)
			border-right: 2px solid rgba(0,0,0,0.1)

			+ section
				border-left: 2px solid rgba(255,255,255,0.1)

			&:last-child
				flex: 0 1 auto
				border-right: none

@media (min-width: 1024px)
	header, nav, aside, footer
		padding-left: calc((100% - 1024px) / 2)
		padding-right: calc((100% - 1024px) / 2)
	main
		padding-left: calc((100% - 1024px) / 2 + 10px)
		padding-right: calc((100% - 1024px) / 2 + 10px)
	nav ul li:first-child
		border-left: 2px solid rgba(0,0,0,0.1)